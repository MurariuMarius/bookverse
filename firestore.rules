rules_version = '2';

function isAdmin(uid) {
	let ADMINS = ['WQCSuK5jvtcJWHbvyk2WdBM7Pqv1'];
	return uid in ADMINS;
}

service cloud.firestore {
  match /databases/{database}/documents {

   
    	match /users/{uid}	{
      	allow read: if uid == request.auth.uid || isAdmin(request.auth.uid);
      }
      
      match /users/{document=**} {
      	allow create: if true;
      }
      
      match /offers/{document=**} {
      	allow read, write: if true;
      }
      
      match /orders/{document=**} {
      	allow read, write: if true;
      }
      
      match /books/{document=**} {
      	allow read, write: if true;
      }
    
      // allow read, write: if request.time < timestamp.date(2023, 11, 14);
    
  }
}